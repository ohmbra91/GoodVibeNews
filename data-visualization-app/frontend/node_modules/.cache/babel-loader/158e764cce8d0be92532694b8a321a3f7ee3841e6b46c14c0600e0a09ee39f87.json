{"ast":null,"code":"import React,{useEffect,useState}from'react';import{fetchArticles}from'./services/api';import{io}from'socket.io-client';import'bootstrap/dist/css/bootstrap.min.css';import{compareDesc}from'date-fns';import'./App.css';import{BrowserRouter as Router,Route,Link,Switch}from'react-router-dom';import About from'./About';// Import the About component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io('https://goodvibenews.live',{secure:true,transports:['websocket']});socket.on(\"connect\",()=>console.log(\"WebSocket Connected!\"));socket.on(\"update_articles\",data=>{console.log(\"Received update:\",data);});function App(){const[articles,setArticles]=useState([]);const[showPositive,setShowPositive]=useState(true);const[showModal,setShowModal]=useState(false);// ✅ FIXED: Properly defined state\nuseEffect(()=>{const getArticles=async()=>{try{const articles=await fetchArticles();const sortedArticles=articles.map(article=>({...article,datePublished:new Date(article.datePublished)})).sort((a,b)=>compareDesc(a.datePublished,b.datePublished));setArticles(sortedArticles);}catch(error){console.error('Error fetching articles:',error);}};getArticles();socket.on('update_articles',newArticles=>{const sortedArticles=newArticles.sort((a,b)=>compareDesc(new Date(a.datePublished),new Date(b.datePublished)));setArticles(sortedArticles);});return()=>{socket.off('update_articles');};},[]);const filteredArticles=showPositive?articles.filter(article=>article.sentiment_score>0):articles;const latestArticles=filteredArticles.slice(0,39);return/*#__PURE__*/_jsxs(\"div\",{className:\"App container\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-content\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-title\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/about\",className:\"navbar-title\",children:\"About\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"toggle-container my-4 text-center\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"togglePositive\",checked:showPositive,onChange:()=>setShowPositive(!showPositive)}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label ms-2\",htmlFor:\"togglePositive\",children:\"Show only positive sentiment articles\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:latestArticles.map((article,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card article-card shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:/*#__PURE__*/_jsx(\"a\",{href:article.link,target:\"_blank\",rel:\"noopener noreferrer\",className:\"article-link\",children:article.headline})}),/*#__PURE__*/_jsx(\"h6\",{className:\"card-subtitle mb-2 text-muted\",children:new Date(article.datePublished).toLocaleString('en-GB',{day:'2-digit',month:'long',year:'numeric',hour:'2-digit',minute:'2-digit'})}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text text-primary fw-bold\",children:article.agency})]})})},index))}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"footer-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"footer-text\",children:\"\\xA9 2025 Good Vibe News Malta. All rights reserved.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"support-button\",onClick:()=>setShowModal(true),children:\"Support\"})]})}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowModal(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Support Good Vibe News\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Choose your preferred donation option:\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://patreon.com/HamiemaBajda\",target:\"_blank\",className:\"modal-button patreon-button\",children:\"Patreon (Monthly Support)\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://revolut.me/r/5YpSSMMjYY\",target:\"_blank\",className:\"modal-button\",children:\"Revolut - Small (\\u20AC2)\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://revolut.me/r/Udu06CMYe8\",target:\"_blank\",className:\"modal-button\",children:\"Revolut - Medium (\\u20AC5)\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://revolut.me/r/xrHOn1HqfT\",target:\"_blank\",className:\"modal-button\",children:\"Revolut - Large (\\u20AC10)\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:()=>setShowModal(false),children:\"Close\"})]})})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","fetchArticles","io","compareDesc","BrowserRouter","Router","Route","Link","Switch","About","jsx","_jsx","jsxs","_jsxs","socket","secure","transports","on","console","log","data","App","articles","setArticles","showPositive","setShowPositive","showModal","setShowModal","getArticles","sortedArticles","map","article","datePublished","Date","sort","a","b","error","newArticles","off","filteredArticles","filter","sentiment_score","latestArticles","slice","className","children","to","type","id","checked","onChange","htmlFor","index","href","link","target","rel","headline","toLocaleString","day","month","year","hour","minute","agency","onClick","e","stopPropagation"],"sources":["/home/ubuntu/scrapers/data-visualization-app/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { fetchArticles } from './services/api';\nimport { io } from 'socket.io-client';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { compareDesc } from 'date-fns';\nimport './App.css';\nimport { BrowserRouter as Router, Route, Link, Switch } from 'react-router-dom';\nimport About from './About'; // Import the About component\n\nconst socket = io('https://goodvibenews.live', { secure: true, transports: ['websocket'] });\n\nsocket.on(\"connect\", () => console.log(\"WebSocket Connected!\"));\nsocket.on(\"update_articles\", (data) => {\n    console.log(\"Received update:\", data);\n});\n\nfunction App() {\n    const [articles, setArticles] = useState([]);\n    const [showPositive, setShowPositive] = useState(true);\n    const [showModal, setShowModal] = useState(false); // ✅ FIXED: Properly defined state\n\n    useEffect(() => {\n        const getArticles = async () => {\n            try {\n                const articles = await fetchArticles();\n                const sortedArticles = articles\n                    .map(article => ({\n                        ...article,\n                        datePublished: new Date(article.datePublished)\n                    }))\n                    .sort((a, b) => compareDesc(a.datePublished, b.datePublished));\n                setArticles(sortedArticles);\n            } catch (error) {\n                console.error('Error fetching articles:', error);\n            }\n        };\n        getArticles();\n\n        socket.on('update_articles', (newArticles) => {\n            const sortedArticles = newArticles.sort((a, b) => compareDesc(new Date(a.datePublished), new Date(b.datePublished)));\n            setArticles(sortedArticles);\n        });\n\n        return () => {\n            socket.off('update_articles');\n        };\n    }, []);\n\n    const filteredArticles = showPositive ? articles.filter(article => article.sentiment_score > 0) : articles;\n    const latestArticles = filteredArticles.slice(0, 39);\n\n    return (\n        <div className=\"App container\">\n            <nav className=\"navbar\">\n                <div className=\"navbar-content\">\n                    <Link to=\"/\" className=\"navbar-title\">Home</Link>\n                    <Link to=\"/about\" className=\"navbar-title\">About</Link>\n                </div>\n            </nav>\n\n            <div className=\"toggle-container my-4 text-center\">\n                <input className=\"form-check-input\" type=\"checkbox\" id=\"togglePositive\" checked={showPositive} onChange={() => setShowPositive(!showPositive)} />\n                <label className=\"form-check-label ms-2\" htmlFor=\"togglePositive\">Show only positive sentiment articles</label>\n            </div>\n\n            <div className=\"row\">\n                {latestArticles.map((article, index) => (\n                    <div className=\"col-md-4 mb-4\" key={index}>\n                        <div className=\"card article-card shadow-sm\">\n                            <div className=\"card-body\">\n                                <h5 className=\"card-title\">\n                                    <a href={article.link} target=\"_blank\" rel=\"noopener noreferrer\" className=\"article-link\">\n                                        {article.headline}\n                                    </a>\n                                </h5>\n                                <h6 className=\"card-subtitle mb-2 text-muted\">\n                                    {new Date(article.datePublished).toLocaleString('en-GB', {\n                                        day: '2-digit',\n                                        month: 'long',\n                                        year: 'numeric',\n                                        hour: '2-digit',\n                                        minute: '2-digit'\n                                    })}\n                                </h6>\n                                <p className=\"card-text text-primary fw-bold\">{article.agency}</p>\n                            </div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            {/* ✅ Footer with Support Button */}\n            <footer className=\"footer\">\n                <div className=\"footer-content\">\n                    <p className=\"footer-text\">© 2025 Good Vibe News Malta. All rights reserved.</p>\n                    <button className=\"support-button\" onClick={() => setShowModal(true)}>\n                        Support\n                    </button>\n                </div>\n            </footer>\n\n            {/* ✅ Pop-up Modal for Donations */}\n            {showModal && (\n                 <div className=\"modal-overlay\" onClick={() => setShowModal(false)}>\n                 <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\n                     <h3>Support Good Vibe News</h3>\n                     <p>Choose your preferred donation option:</p>\n                     <a href=\"https://patreon.com/HamiemaBajda\" target=\"_blank\" className=\"modal-button patreon-button\">Patreon (Monthly Support)</a>\n                     <a href=\"https://revolut.me/r/5YpSSMMjYY\" target=\"_blank\" className=\"modal-button\">Revolut - Small (€2)</a>\n                     <a href=\"https://revolut.me/r/Udu06CMYe8\" target=\"_blank\" className=\"modal-button\">Revolut - Medium (€5)</a>\n                     <a href=\"https://revolut.me/r/xrHOn1HqfT\" target=\"_blank\" className=\"modal-button\">Revolut - Large (€10)</a>\n                     <button className=\"modal-close\" onClick={() => setShowModal(false)}>Close</button>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}